<div class="container">
  <div *ngIf="errorMessage">
      {{errorMessage}}
  </div>
  <form #userForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
    <div class="form-group">
      <label for="name">Name</label>
      <input
        id="name"
        pattern="[a-zA-Z0-9]+"
        class="form-control"
        [class.is-invalid]="name.invalid && name.touched"
        type="text"
        name="name"
        required
        #name="ngModel"
        [(ngModel)]="userModel.name"
      />
      <div class="invalid-feedback">
        This field must be filled and will have digits and characters. No
        Special Character.
      </div>
      <div *ngIf="name.errors && (name.invalid && name.touched)">
        <div
          class="alert alert-error alert-dismissible fade show"
          role="alert"
          *ngIf="name.errors.required"
        >
          <strong>Holy guacamole!</strong> You should check in on some of those
          fields below.
          <button
            type="button"
            class="close"
            data-dismiss="alert"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div
          class="alert alert-error alert-dismissible fade show"
          role="alert"
          *ngIf="name.errors.pattern"
        >
          <strong>Holy guacamole!</strong> You should check in on some of those
          fields below.
          <button
            type="button"
            class="close"
            data-dismiss="alert"
            aria-label="Close"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email Address</label>
      <input
        id="email"
        class="form-control"
        type="email"
        name="email"
        [(ngModel)]="userModel.email"
      />
    </div>
    <div class="form-group">
      <label for="phone">Phone No.</label>
      <input
        id="phone"
        class="form-control"
        type="tel"
        name="phone"
        [(ngModel)]="userModel.phone"
      />
    </div>
    <div class="form-group">
      <label for="topic">Select Topic</label>
      <select
        id="topic"
        class="custom-select"
        name="topic"
        [(ngModel)]="userModel.topic"
      >
        <option selected>Please select a topic</option>
        <option *ngFor="let topic of topics">{{ topic }}</option>
      </select>
    </div>
    <div class="mb-3">
      <div class="form-check">
        <input
          id="morning"
          class="form-check-input"
          type="radio"
          name="timePreference"
          value="Morning(9AM-12PM)"
          [(ngModel)]="userModel.timePreference"
        />
        <label for="morning" class="form-check-label">Morning(9AM-12PM)</label>
      </div>
      <div class="form-check">
        <input
          id="evening"
          class="form-check-input"
          type="radio"
          name="timePreference"
          value="Evening(5PM-8PM)"
          [(ngModel)]="userModel.timePreference"
        />
        <label for="evening" class="form-check-label">Evening(5PM-8PM)</label>
      </div>
    </div>
    <div class="mb-3">
      <div class="form-check">
        <input
          id="evening"
          class="form-check-input"
          type="checkbox"
          name="subscribe"
          value="Send me Promotional Offer"
          [(ngModel)]="userModel.name"
          subscribe
        />
        <label for="evening" class="form-check-label"
          >Send me Promotional Offer</label
        >
      </div>
    </div>
    <div class="btn-group" role="group" aria-label="Button group">
      <button class="btn btn-primary" [disabled]='userForm.form.invalid'>Submit</button>
    </div>
  </form>
</div>
